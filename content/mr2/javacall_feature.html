<head>
<title>Getting Started with phoneME Feature Software (MR2)</title>
<style type="text/css">
<!--
.style3 {color: #e76f00}
-->
</style>
</head>
 
<body>

<!--  ================= BEGIN PAGE BODY (Ignore Everything Above)  ============ -->

<!-- BEGIN PAGE TITLE -->
<div id="projecthome" class="app"> <h1><font color="#e76f00">Building the JavaCall Porting Layer (MR2 - Win32 on i386 Only)<span class="style1"> </span></font></h1>
<!-- END PAGE TITLE -->
<p>
<a href="./index_feature.html">first</a> | <a href="./buildenv_feature.html">prev</a> | 
<a href="./pcsl_feature.html">next</a> | <a href="./client_feature.html">last</a> 
<p>

The JavaCall porting layer provides a uniform set of APIs that improve and simplify the 
phoneME Feature software porting process.   
<p>

To build a default implementation of the JavaCall porting layer, you take the following 
general steps:
<p>
<UL>
<LI>Set environment <a href="#javacall_var">variables</a> for your platform
<LI>Run <KBD>make</KBD> to <a href="#build_javacall">build</a> the JavaCall porting layer</LI>
</UL>
<P>

<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="javacall_var"></a><h3>Setting JavaCall Porting Layer Environment Variables</h3>
<!-- END SECTION HEAD -->
<p>

The JavaCall has three environment variables that must be set, as shown in 
<a href="#table2-1">Table 2-1</a>. 
<P>
<b>Note:</b> Make note of the values you choose for these variables. When executing the
build procedures for PCSL, CLDC, and the phoneME Feature software client, you must set
corresponding values.
<P>

<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0>
<A NAME="table2-1"></A>
<CAPTION><b>TABLE 2-1</b>Required JavaCall Porting Layer Build Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-485154"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-485156"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P>
<KBD>BuildDir</KBD>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P>
The location of your phoneME Feature build directory.
<p>
For example, if you picked up the JavaCall porting layer source code from the
<a href="./download_feature.html#repo">repository</a>, set this variable as
<code>BuildDir=%MEHOME%/javacall/configuration/phoneMEFeature/win32_x86</code>.
<p>
If you picked up the JavaCall porting layer source code from the download
<a href="./download_feature.html#zip_file">zip archive</a>, set this variable
as <code>BuildDir=%MEHOME%/javacall-com/configuration/phoneMEFeature/win32_x86</code>.
<code>
<p>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P>
<KBD>JAVACALL_DIR</KBD>
<P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P>
Specifies the location of the base JavaCall API source code and makefiles, 
which contains MIDP and specific optional packages, including the following:
<p>
Java Wireless Messaging (JSR 120)
<br> ABB parts of Mobile Media APIs (JSR 135) 
<br>
Security and Trust Services (JSR 177)
<br>
Content Handler API (JSR 211)
<P>
For example, <code>JAVACALL_DIR=%MEHOME%/javacall</code>.
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P>
<KBD>JAVACALL_PROJECT_DIR</KBD>
<P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P>
Specifies the location of additional JavaCall API source code and makefiles,
which includes additional optional packages, including the following:
<p>
Personal Information and File Management (JSR 75)
<br>
Bluetooth (JSR 82) 
<br>
Win32-only pieces of Mobile Media APIs (JSR 135) 
<br>
Location API (JSR 179) 
<br>
Wireless Messaging (JSR 205)
<br>
Mobile Internationalization (JSR 238)
<p>
For example, <code>JAVACALL_PROJECT_DIR=%MEHOME%/javacall-com</code>.   
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P>
<KBD>JAVACALL_OUTPUT_DIR</KBD>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P>
Defines the directory where the build system places its output.  For example, 
<code>JAVACALL_OUTPUT_DIR=%BUILD_OUTPUT_DIR%/javacall</code>.
<p>	
</TD>
</TR>
</TBODY>
</TABLE>
<p>
<b>Note:</b> The phoneME Feature client software is complex and flexible, and many 
build options are available. For more information on build options, see
<a href="http://java.sun.com/javame/reference/docs/sjwc-2.0-web/docs/BuildGuide-html/index.html">
<i>Sun Java Wireless Client Build Guide</i></a>.
<P>


<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="build_javacall"></a><h3>Building the JavaCall Porting Layer</h3>
<!-- END SECTION HEAD -->
<p>

To build an implementation of the JavaCall porting layer, take the following steps:
<p>
<OL>
<b><LI>Set the <code>BuildDir</code> variable based on where you picked up your JavaCall
porting layer source files.</b>
<p>
For more information, see <a href="#table2-1">Table 2-1</a>.
<P>
<b><LI>Run the make command as a single command-line string, as shown here.</b>
<p>
If you picked up the JavaCall porting layer source code from the repository, use the following
command-line string:
<P>
<ol>
<KBD>$ make -C %BuildDir% JAVACALL_DIR=%MEHOME%/javacall 
JAVACALL_OUTPUT_DIR=%BUILD_OUTPUT_DIR%/javacall</KBD>
</ol>
<p>
If you picked up the JavaCall porting layer source code from the zip archive, use the 
following command-line string:
<p>
<ol>
<KBD>$ make -C %BuildDir% JAVACALL_DIR=%MEHOME%/javacall JAVACALL_PROJECT_DIR=%MEHOME%/javacall-com
JAVACALL_OUTPUT_DIR=%BUILD_OUTPUT_DIR%/javacall</KBD>
</ol>
<p>
<b>Note:</b> It is possible to include optional packages in your JavaCall porting layer 
build.  The makefiles for building these optional packages are picked up from the repository 
and zip archive with the JavaCall source, but no optional packages are built unless other 
variables are set.  For more information, see 
<a href="./begin_feature.html#op_pack">Including Optional Packages in Your Build</a>.
</OL>
<P>
When the <KBD>make</KBD> command has successfully completed, the JavaCall porting layer 
output is found  in <KBD>%JAVACALL_OUTPUT_DIR%</KBD>.
</UL>
<pre>


</pre>
<a href="./index_feature.html">first</a> | <a href="./buildenv_feature.html">prev</a> |
<a href="./pcsl_feature.html">next</a> | <a href="./client_feature.html">last</a>
 
<p>


<!-- =================================== END PAGE BODY ================== -->

</div>
