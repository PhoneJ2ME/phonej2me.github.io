<head>
<title>Getting Started with phoneME Feature Software (MR2)</title>
<style type="text/css">
<!--
.style3 {color: #e76f00}
-->
</style>
</head>
 
<body>
<!-- BEGIN PAGE TITLE -->
<div id="projecthome" class="app"> <h1><font color="#e76f00">Before You Begin (MR2)<span 
class="style1"></span></font></h1>
<!-- END PAGE TITLE -->

<p>
<a href="./index_feature.html">first</a> I <a href="./download_feature.html">prev</a> |  
<a href="./buildenv_feature.html">next</a> | <a href="./client_feature.html">last</a> 
<p> 


This document contains the following sections:
<p>
<ul>
<li><a href="#docs">Document Notes and Conventions</a></l>
<li><a href="#env">Setting Variables for Your Build Environment</a></li>
<li><a href="#op_pack">Including Optional Packages in Your Builds</a></li>
<li><a href="#dash_c">Building with the <code>make -C</code> Option</a></li>
<li><a href="#default">Default Build Configuration</a></li>
<li><a href="#audio">Building a Complete Audio Implementation</a></li>
</ul> 
<P>
<b>Note:</b> This section contains information you might find useful while working through 
the phoneME Feature installation process.  It is for your information only.  If you want
to begin downloading and installing the phoneME Feature software right away, see
<a href="./download_feature.html">Downloading the phoneME Feature Software Source Code</a>.  
<p>

<!-- __________ This Section Transferred from Index Page for Evaluation ________ -->

<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="docs"></a><h3>Document Notes and Conventions</h3>
<!-- END SECTION HEAD  -->
<p>

For your ease of use, this guide uses the following conventions:
<p>
<ul>
<li>The document variable <code>$MEHOME</code> means "the location where you have installed 
the phoneME Feature software."  For example, if you install the phoneME Feature software 
into the directory <code>/home/chocolate/phoneME_feature</code>, changing directory to 
<code>$MEHOME/midp</code> means to change directory to 
<code>/home/chocolate/phoneME_feature/midp</code>.
<p>
<li>For all procedures and examples carried out on the Linux platform, the Bash shell
is assumed.  If you are not using the Bash shell, be sure to enter variables and commands
for the shell you are using.
<p>
<li>For all procedures and examples carried out on the Windows platform, the use of Cygwin
(Cyg4Me) is assumed.  Instructions for installing Cyg4Me are provided
<a href="./buildenv_feature.html#cyg4me">here</a>.
<p>
</ul>


<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="env"></a><h3>Setting Variables for Your Build Environment</h3>
<!-- END SECTION HEAD -->
<p>

Preparing your build environment requires you to set environment variables for your 
Linux on i386 or Win32 on i386 build platforms.  The specific variables that need to be set 
are described in the remainder of this document. 

<p>

Build environment variables can be set in two ways:
<P>
<UL>
<LI><a href="#system">As a system variable</LI></a>
<LI><a href="#cline">On the command-line, when you run <code>make</code></LI></a>
</UL>
<P>


<a name="system"><strong>Setting System Variables</strong></a>
<p>

On a Linux on i386 build platform, a system variable is set in the following way:
<p>
<ul>
<code> $ export <i>VARIABLE</i>=<i>value</i></code>
<p>
For example, to set <code>TARGET_CPU</code> as a system variable on a Linux/i386
platform <!-- (for both Linux/i386 and Linux/ARM targets) -->, type:
<P>
<code> $ export TARGET_CPU=i386</code>
<P>
</ul>
On a Win32 on i386 build platform, a system variable is set in the following way:
<p>
<ul>
<code>$ set <i>VARIABLE</i>=<i>value</i></code>
<P>
For example, to set the <code>TARGET_CPU</code> as a system variable on a Win32 on i386
platform, type:
<P>
<code>$ set TARGET_CPU=i386</code>
<p>
</ul>
<p>


<a name="cline"><strong>Setting Command-Line Variables</strong></a>
<p>

On Linux on i386 and Win32 on i386 build platforms, a command-line variable is set in the 
following way:
<p>
<ul>
<code>$ make <i>VARIABLE</i>=<i>value</i> make_target</code>
<P>
For example, to set <code>TARGET_CPU</code> on a <code>make</code> command-line
for a Linux on i386 platform, use the following format:
<P>
<code>$ make TARGET_CPU=i386 all</code>
<p>
</ul>
<p>
<b>Note:</b> Typing <code>make</code> on the command-line by itself is the same as 
typing <code>make all</code>. 


<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="op_pack"></a><h3>Including Optional Packages in Your Builds</h3>
<!-- END SECTION HEAD -->

Optional packages can be included in the JavaCall porting layer and phoneME Feature software 
client builds by adding the appropriate optional package variable pairs to the <code>make</code> 
command line.  
<P>
To do this, use the following variable format, where <code>XXX</code> is the JSR number:
<ul>
<li><code>USE_JSR_XXX=true</code>
<li><code>JSR_XXX_DIR=</code><em>path-to-jsr-source</em>
</ul>
<p>
For example, to build the JavaCall porting layer to include JSR-120 (Wireless Messaging APIs), 
the <code>make</code> command-line looks like this:
<p>
<ol>
<code>$ make USE_JSR_120=true JSR_120_DIR=$MEHOME/120 </code>  
</ol>
<p>
<b>Note:</b> For optional packages with two-digit numbers, the format is <code>USE_JSR_XX</code>
and <code>JSR_XX_DIR</code>.
<p>
Builds for PCSL and CLDC do not require optional packages to be included, even if they are built 
in the JavaCall porting layer and the phoneME Feature software client.  However, if optional 
packages are included in the build for the JavaCall porting layer, the same optional packages 
<em>must</em> be included in the phoneME Feature client software build.
<p>
For more information on building with optional packages, see
<a href="http://java.sun.com/javame/reference/docs/sjwc-2.0-web/docs/BuildGuide-html/index.html">
<i>Sun Java Wireless Client Build Guide</i></a>.
<p>


<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="dash_c"></a><h3>Building With the <code>make -C</code> Option</h3>
<!-- END SECTION HEAD -->
<p>
When using <code>make</code> to build the JavaCall porting layer, PCSL, CLDC, and phoneME 
Feature software, the </code>-C</code> option is used to specify the directory where the build 
is performed.  Using the <code>-C</code> option enables you to build in the correct location 
without changing to the build directory before the build is launched. 
<p>
For improved usability, this guide directs you to change to the build directory before building
a component. However, if you choose, you can launch your build from any directory using the 
<code>make</code> </code>-C</code> option.
<p>
For example, if the build directory for building the JavaCall porting layer on an i386 target
platform in the phoneME Feature client is <code>%MEHOME%/midp/build/javacall</code>, enter the
following: 
<p>
<ol>
<code>$ make -C %MEHOME%/midp/build/javacall</code> <em>flag1 flag2 flag3</em>
</ol>
<p>


<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="default"></a><h3>Default Build Configuration</h3>
<!-- END SECTION HEAD -->
<p>

The default build configuration for your target platform is named using a
combination of <EM>operating system</EM> (Linux or Win32), <EM>platform</EM>
(i386 or ARM), and one or more build <EM>options</EM>. Setting (or not setting)
specific build options determines the configuration of the build.
<P>
For example, for the Linux/ARM target platform (P2 board), the default build
configuration uses Frame Buffer graphics (<KBD>fb</KBD>), with Adaptive User Interface
Technology (<KBD>chameleon</KBD>), and multitasking (<KBD>mvm</KBD>). Therefore,
the default build configuration is named <KBD>linux_arm_fb_chameleon_mvm</KBD>.
<P>
On the Win32 on i386 platform, the default build configuration is <KBD>javacall_i386</KBD>.
<P>
<!-- For more information about build options and settings in the phoneME Feature software,
see <A HREF="options_feature.html">Default Build Configuration Options</A>. -->
<p>

<!-- BEGIN SECTION HEAD -->
<a name="audio"></a>
<hr noshade="noshade" size="1">
<h3>Building a Complete Audio Implementation</h3>
<!-- END SECTION HEAD -->
<p>

A complete implementation of JSR 135 is provided on the Win32 on i386 platform. Building 
JSR 135 on the Linux on ARM platform provides only a MIDP ABB implementation of JSR 135.
To build an implementation of JSR 135 on Linux on ARM, some files need to be modified.
<P>

<strong>On a Linux on ARM platform</strong>
<p>
Modify the following files:
<UL>
<LI><KBD>jsr135/linux-abb/src/native/qsoundnative.c</KBD></LI>
</UL>
<p>
These files contain stubbed implementations of all native methods for the following
classes:
<P>
<UL>
<LI><KBD>com.sun.mmedia.QSound*</KBD></LI>
</UL
><p>
Sun Microsystems' compliant Mobile Media API (JSR 135) implementation utilizes audio
libraries licensed from <a href="http://www.qsound.com/index.htm">QSound Labs, Inc.</a>.
<P>
<B>Note:</B> Other libraries are possible.  If you choose other audio libraries, you
need to modify the listed files for those libraries.
<p>

<strong>On a Win32 on i386 platform</strong>
<p>
A complete implementation of JSR-135 is provided. To port it to other platforms you 
must implement the JavaCall API, which can be found at:
<p>
<ul>
<li><code>javacall/interface</code
></ul>
<p>
In particular, the JSR-135 audio part of the JavaCall API can be found in:
<p>
<ul>
<li><code>javacall/interface/jsr135_mmapi/javacall_multimedia.h
</ul>
<p>

<!--
On a Win32 on i386 platform:
<P>
<UL>
<LI><KBD>jsr135/win32-jsr135/src/native/AMRDecoder.c</KBD></LI>
<LI><KBD>jsr135/win32-jsr135/src/native/qsoundnative.c</KBD></LI>
</UL>
<P>
On a Linux/ARM platform:
<p>
<UL>
<LI><KBD>jsr135/linux-abb/src/native/qsoundnative.c</KBD></LI>
</UL>
<P>
These files contain stubbed implementations of all native methods for the following
classes.
<P>
On a Win32/i386 platform:
<P>
<UL>
<LI><KBD>com.sun.mmedia.AMRDecoder</KBD></LI>
</UL>
<p>
On Win32/i386 and Linux/ARM platforms:
<P>
<UL>
<LI><KBD>com.sun.mmedia.QSound*</KBD></LI>
</UL>
<P>
Sun Microsystems' compliant Mobile Media API (JSR 135) implementation utilizes audio
libraries licensed from <a href="http://www.qsound.com/index.htm">QSound Labs, Inc.</a>.
<P>
<B>Note:</B> Other libraries are possible.  If you choose other audio libraries, you
need to modify the listed files for those libraries.
-->
<pre>


</pre>

<a href="./index_feature.html">first</a> | <a href="./download_feature.html">prev</a> | 
<a href="./buildenv_feature.html">next</a> | <a href="./client_feature.html">last</a> 
<p>

<!-- =============================== END PAGE BODY ======================= -->

</div>
