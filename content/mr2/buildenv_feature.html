<head>
<title>Getting Started with phoneME Feature Software (MR2)</title>
<style type="text/css">
<!--
.style3 {color: #e76f00}
-->
</style>
</head>
 
<body>

<!-- =========  BEGIN PAGE BODY (Ignore Everything Above)  ====================== -->

<!-- BEGIN PAGE TITLE -->
<div id="projecthome" class="app"> <h1><font color="#e76f00">Setting Up Your Build 
Environment (MR2)<span class="style1"></span></font></h1>
<!-- END PAGE TITLE -->

<p>
<a href="./index_feature.html">first</a> | <a href="./begin_feature.html">prev</a> |  
<a href="./javacall_feature.html">next</a> | <a href="./client_feature.html">last</a> 
<p> 

This section describes how to prepare your Linux on i386 or Win32 on i386 build environment
for building the JavaCall porting layer (Win32 only), PCSL, CLDC, and phoneME Feature 
client software.  

<p>
This document contains the following sections:
<p>
<ul>
<li><a href="#linux_setup">Setting Up the Linux on i386 Build Environment</a>
<li><a href="#win_setup">Setting Up the Win32 on i386 Build Environment</a>
</ul>
<P>
To properly use this document, two kinds of variables are set:
<p>
<ul>
<li>Optional - Not required by the phoneME Feature build scripts. However, setting them 
makes this document easier to follow and use.
<p> 
<li>Required - Required by the phoneME Feature build scripts.
</ul>
<p>
Both kinds of variables are described in the following sections. 
<p>


<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="linux_setup"></a><h3>Setting Up the Linux on i386 Build Environment</a></h3>
<!-- END SECTION HEAD -->
<p>

To set up the Linux on i386 build environment to build phoneME Feature software for both 
Linux/i386 and Linux on ARM target platforms, set the optional build variables shown in 
<a href="#table1-1">Table1-1</a> and the required build variables as shown 
<a href="#table1-2">Table1-2</a>.
<P>
<b>Note:</b> If you do not set the optional variables, you must provide an equivalent 
value when the variable is referred to in this document.

<!-- --------- START OPTIONAL VARIABLE TABLE --------- -->

<a name="table1-1"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-1</b>Optional Linux on i386 Build Platform Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
MEHOME<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474803"></A>The location where you install 
the phoneME Feature software. For example, <code>MEHOME=/home/chocolate/phoneME_feature</code>.
<p>
<b>Note:</b> <code>/home/chocolate</code> in this example can also be referred to
by the convention <em>InstallDir</em>.
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
BUILD_OUTPUT_DIR<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474803"></A>The location where executables and
other build output for phoneME Feature components are written. For example,
<code>BUILD_OUTPUT_DIR=$MEHOME/build_output</code>.
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>

<!-- --------- START REQUIRED VARIABLE TABLE --------- -->

<a name="table1-2"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-2</b>Required Linux on i386 Build Platform Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473767"></A><KBD CLASS="Filename-Command">
JDK_DIR</KBD><A NAME="marker-473764"></A><A NAME="marker-473765"></A>
<A NAME="marker-473766"></A>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P>The directory that contains the JDK software release.  For example,
<code>JDK_DIR=/usr/java/j2sdk1.4.2</code>.
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474043"></A><KBD>PATH</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474045"></A>Software development tools used
in the Linux on i386 and Linux on ARM build processes, such as JDK software, must be 
included in your PATH.
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>


<a name="linux_build"></a>
<strong>Setting Build Variables</a></strong>
<p

<OL>
<b><li>Set your <code>MEHOME</code> environment variable to the location 
where you install the <code>phoneME_feature</code> directory.</b>
<p>
<code>$ export MEHOME=</code><em>InstallDir</em><code>/phoneME_feature</code>
<p>
<b>Note:</b> <em>InstallDir</em> is the location where you download the phoneME 
Feature software zip file. 
<p>
<b><li>Create the directory <code>build_output</code> and set the 
<code>BUILD_OUTPUT_DIR</code> variable.</b>
<p>
<code>$ mkdir $MEHOME/build_output</code>
<br>
<code>$ export BUILD_OUTPUT_DIR=$MEHOME/build_output</code>
<p>
<b><li>Set the <code>JDK_DIR</code> variable.</b>
<p>
<code>$ export JDK_DIR=/usr/java/j2sdk1.4.2</code>
<p>
<b><li>Add <code>JDK_DIR</code> to your <code>PATH</code>.</b>
<p>
<code>$ export PATH=$JDK_DIR/bin:$PATH</code>
</OL>
<p>


<a name="acquire"></a>
<strong>Acquiring and Installing Supporting Software</strong>
<p>

Depending upon how your Linux on i386 build platform is set up, you might need to acquire 
the following additional software tools:
<p>
<ul>
<li>GNU <a href="http://ftp.gnu.org/pub/gnu/make">Make 3.79.1</a> or later  
<li>GNU Compiler <a href="http://gcc.gnu.org">GCC 3.4.6</a> or later
<!-- <li>Trolltech <a href="http://www.trolltech.com/products/qt"> Qt/Embedded 2.3.10</a>
graphic support package -->
</ul>
<p>
To properly build phoneME Feature software on a Linux on i386 build platform, these tools
need to be present in your build environment.
<p>
<b>Note:</b> Instructions for installing supporting software are provided with the
software packages.
<p>
In addition, to cross-compile phoneME Feature software for the Linux on ARM (P2 board) 
target platform, you must acquire and install MontaVista 
<a href="http://www.mvista.com/products_services.php">CEE 3.1 ADK</a> developer tools.
</ul>   
<p>

<a name="support_var"></a>
<strong>Setting Variables for Supporting Software</strong>
<p>

Once you acquire additional build support tools for your Linux on i386 build platform,
set additional environment variables as shown in <a href="#table1-3">TABLE 1-3</a>.
<p>

<a name="table1-3"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-3</b>Required Linux on i386 Supporting Software Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<!--
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473785">
</A><KBD CLASS="Filename-Command">QTDIR</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-473787"></A>Points to the location where
the Trolltech QT Toolkit graphics support package is installed.  For example,
<code>QTDIR=/usr/lib/qt3</code>.
</P>
</TD>
</TR>
-->
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-475081"></A><KBD Class="Filename-Command">
GNU_TOOLS_DIR<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-475083"></A>Points to the location of MontaVista
software development tools, which are used to build for a Linux on ARM target platform.  
For example, 
<code>GNU_TOOLS_DIR=/opt/montavista/cee/devkit/arm/v4t_le/armv4tl-hardhat-linux</code>.  
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>

<a name="montavista"></a>
<strong>Setting the <code>GNU_TOOLS_DIR</code> Variable</strong>
<p>

When building for the Linux on ARM target platform, set the <code>GNU_TOOLS_DIR</code> 
variable on the <code>make</code> command-line, not as a system variable.
<p>

<!--
<p>
<OL>
<b><li>Set the <code>QTDIR</code> variable.</b>
<p>
<code>$ export QTDIR=/usr/lib/qt3</code>
<p>
<code>$ export GNU_TOOLS_DIR=/opt/montavista/cee/devkit/arm/v4t_le/armv4tl-hardhat-linux</code>
<p>
<b><li>Add <code>QTDIR</code> to your </code>PATH</code>.</b>
<p>
<code>$ export PATH=$PATH:$QTDIR/bin</code>
</OL>
<p>
-->

For ease of use, set the path to the MontaVista tools to a system variable not called by the 
<code>make</code> files.  Then, on the Linux on ARM <code>make</code> command line, you can 
assign this variable to <code>GNU_TOOLS_DIR</code>. For example,
<p>
<ul>
<code>$ export MONTAVISTA=/opt/montavista/cee/devkit/arm/v4t_le/armv4tl-hardhat-linux</code>
</ul>
<p>
Then, on the <code>make</code> command line, to call the MontaVista development tools, you 
simply enter:
<p>
<ul>
<code>GNU_TOOLS_DIR=$MONTAVISTA</code> 
</ul>
<p>
An example of this variable method is provided <a href="./pcsl_feature.html#arm">here</a>.
</ul>
<p>

<!-- BEGIN SECTION HEAD -->
<hr noshade="noshade" size="1">
<a name="win_setup"></a><h3>Setting Up the Win32 on i386 Build Environment</h3>
<!-- END SECTION HEAD -->
<p>

To set up your Win32 on i386 platform, you must take the following general steps:
<P>
<UL>
<LI>Set up your Windows <a href="#work_env">work environment</a>
<LI>Install <a href="#cyg4me">Cyg4Me</a></LI>
<LI>Set Win32/i386 platform <a href="#win_var">environment variables</a></LI>
</UL>
<p>


<a name="work_env"></a>
<strong>Setting Up Your Windows Work Environment</strong>
<p>

To properly set up your Windows work environment, you must run the Windows batch file, 
<code>vcvarsall.bat</code>, using Windows shortnames (without spaces) as shown here:
<p>
<ul>
<code>C:\PROGRA~1\MICROS~2\VC\vcvarsall.bat</code>
</ul>
<p>
The <code>vcvarsall.bat</code> file sets several Windows variables, including 
<code>LIB</code>, <code>INCLUDE</code>, and others. 
<p>
<b>Note:</b> Your directory path to the <code>vcvarsall.bat</code> file might differ from
that shown here.  To find the shortnames for your directory path, type <code>dir /x</code>.
<p>  
If your compiler is Microsoft Visual Studio 2003, you might better set up your Windows 
work environment using the file <code>VCVARS32.BAT</code>.  Run this Windows batch file 
as shown here: 
<p>
<ul>
<code>C:\%MSVS%\VC98\\Bin\VCVARS32.BAT</code>
<p>
</ul>
<b>Note:</b> The variable <code>%MSVS%</code> points to the location of your Microsoft 
Visual Studio package.
<p>

<a name="cyg4me"></a>
<strong>Installing Cyg4Me</strong>
<p>

Before you build phoneME Feature on a Win32 on i386 platform, download and install Cyg4Me, 
version 1.1. Cyg4Me is a standardized version of Cygwin for building Java ME platform
products on Windows. It provides the necessary UNIX&#174; system tools, such as
<KBD CLASS="Filename-Command">sh</KBD> and <KBD CLASS="Filename-Command">gnumake</KBD>.
<P>
<ol>
<b><li>Download the Cyg4Me zip file 
<a href="ftp://ftp.sunfreeware.com/pub/freeware/contributions/cygwin">
<code>cyg4me1_1_full.zip</code></a>.</b>
<P>
This file contains all the executables and libraries needed to build on the Win32 on i386 
platform.
<P>
<b><li>Unzip the file.</b>
<P>
For example, you could unzip the file into 
<KBD CLASS="Filename-Command">C:&#92;cyg4me</KBD>.
<P>
</ol>
<p>


<a name="win_var"></a>
<strong>Setting Build Platform Environment Variables</strong>
<p>

To set up the Win32/i386 build environment to build phoneME Feature software for the
JavaCall porting layer on i386 target platform, set the optional build variables shown in
<a href="#table1-4">Table1-4</a> and the required build variables as shown
<a href="#table1-5">Table1-5</a>.
<P>

<!-- ---------------- START OPTIONAL VARIABLE TABLE ------------ -->

<a name="table1-4"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000" 
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-4</b>Optional Win32 on i386 Build Platform Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
MEHOME<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474803"></A>The location where you install 
the phoneME Feature software.  For example,
<code>MEHOME=C:/home/chocolate/phoneME_feature</code>.
<p>
<b>Note:</b> <code>/home/chocolate</code> in this example can also be referred to 
by the convention <em>InstallDir</em>. 
</P>
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474801"></A><KBD Class="Filename-Command">
BUILD_OUTPUT_DIR<KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474803"></A>The location where executables and
other build output for phoneME Feature components are stored. For example, 
<code>BUILD_OUTPUT_DIR=%MEHOME%/build_output</code>.
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>

<!-- ----------- START REQUIRED VARIABLE TABLE --------------- -->

<a name="table1-5"></a>
<TABLE CLASS="Titled" BORDER=1 BORDERCOLORLIGHT="#FFFFFF" BORDERCOLORDARK="#000000"
CELLPADDING=5 CELLSPACING=0 >
<CAPTION> <b>TABLE 1-5</b>Required Win32 on i386 Build Platform Variables</CAPTION>
<THEAD>
<TR>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474006"></A>Name
</P>
</TH>
<TH SCOPE="COL" ROWSPAN="1" COLSPAN="1" BGCOLOR="#CCCCCC">
<P CLASS="TableHead"><A NAME="pgfId-474008"></A>Description
</P>
</TH>
</TR>
</THEAD>
<TBODY>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474013"></A><KBD CLASS="Filename-Command">
JDK_DIR</KBD><A NAME="marker-474010"></A><A NAME="marker-474011"></A>
<A NAME="marker-474012"></A>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474015"></A>Directory that contains the JDK
software release.  For example, <code>JDK_DIR=C:/java/j2sdk1.4.2</code>.
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474013"></A><KBD CLASS="Filename-Command">
CYG4ME</KBD><A NAME="marker-474010"></A><A NAME="marker-474011"></A>
<A NAME="marker-474012"></A>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474015"></A>Location where you download and 
unzip Cyg4Me.  For example, <code>CYG4ME=C:\cyg4me.
</TD>
</TR>
<TR>
<TD SCOPE="ROW" ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474043"></A><KBD>PATH</KBD>
</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="TableText"><A NAME="pgfId-474045"></A>Must be set to include Cyg4Me
and other tools used in the Win32 on i386 build process.
</P>
</TD>
</TR>
</TBODY>
</TABLE>
<p>


<a name="win_build"></a>
<strong>Setting Build Variables</a></strong>
<p

<OL>
<b><li>Set your <code>MEHOME</code> environment variable to the location where you install
the <code>phoneME_feature</code> directory.</b>
<p>
<code>$ set MEHOME=C:/</code><em>InstallDir</em><code>/phoneME_feature</code>
<p>
<b><li>Create the directory <code>build_output</code> as a folder and set the 
<code>BUILD_OUTPUT_DIR</code> variable.</b> 
<p>
<code>$ set BUILD_OUTPUT_DIR=%MEHOME%/build_output</code>
<p>
<b><li>Set the <code>JDK_DIR</code> variable.</b>
<p>
<code>$ set JDK_DIR=C:/java/j2sdk1.4.2</code>
<p>
<b>Note:</b> As shown in this command line, the <code>JDK_DIR</code> path must 
be set using Linux (forward) slashes.
<p>
<b><li>Set the <code>CYG4ME</code> variable, as shown here:</b>
<p>
<code>$ set CYG4ME=C:\cyg4me</code>
<p> 
<b><li>Add <code>Cyg4Me</code> and <code>JDK_DIR</code> to your <KBD>PATH</KBD> environment variable.  
Make the <KBD>bin</KBD> directory of your <code>Cyg4Me<code> installation the first element of your 
<code>PATH</code>, as shown here.</b> 
<P>
<code>$ set PATH=%CYG4ME%&#92;bin;%JDK_DIR%/bin;%PATH%</code>
<p>
</OL>
<P>
<b>Note:</b> If you previously installed Cygwin on your Win32 on i386 platform, remove 
all <code>PATH</code> elements that point to those previous versions.  
<PRE>


</pre>

<a href="./index_feature.html">first</a> | <a href="./begin_feature.html">prev</a> | 
<a href="./javacall_feature.html">next</a> | <a href="./client_feature.html">last</a> 
<p>

<!-- =============================== END PAGE BODY ======================= -->

</div>
